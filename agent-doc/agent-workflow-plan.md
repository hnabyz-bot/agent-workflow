# AI 에이전트 협업 워크플로우 (개정 최종판)

## 1. 이 문서의 정체성과 핵심 원칙

**⚠️ 중요: 이 문서는 'AI 자율 협업 시스템'이 아닌, '사람(개발자)을 위한 AI 활용 매뉴얼'입니다.**

이 문서는 각기 다른 강점을 가진 AI 에이전트(Claude, Gemini, Copilot)를 사람이 가장 효율적으로 활용하여, 복잡한 소프트웨어 프로젝트를 수행하는 방법을 안내합니다.

### 1.1. 핵심 운영 원칙
1.  **사람 중심 중재 (Human-in-the-Loop):** 모든 협업은 사람이 중심이 되어 각 에이전트에게 작업을 지시하고, 그 결과를 다음 에이전트에게 전달하는 방식으로 이루어집니다. AI 간의 직접적인 대화나 자동 협업은 불가능합니다.
2.  **순차 활용 우선 (Sequential First):** 기본적으로 하나의 작업은 하나의 주력 에이전트가 순차적으로 처리합니다.
3.  **전략적 호출 (Strategic Intervention):** 아키텍처 검토, 고난도 알고리즘 설계 등 명확한 목적이 있는 전략적 지점에서만 다른 에이전트를 제한적으로 호출하여 품질을 높입니다.
4.  **상태 관리 생활화 (State Management):** `project_status.md` 파일을 통해 프로젝트의 컨텍스트를 지속적으로 관리하여, 에이전트 전환 시 발생하는 정보 손실을 최소화합니다.
5.  **품질 게이트 (Quality Gates):** 각 단계의 산출물은 다음 단계로 넘어가기 전, '산출물 승인 체크리스트'를 통해 품질을 검증합니다.
6.  **상세 규칙 및 가이드 준수 (Adherence to Detailed Rules):** 본 워크플로우의 구체적인 팀 운영 규칙과 실전 가이드는 `team_ground_rules.md`와 `PRACTICAL_GUIDE.md` 문서를 따릅니다.

---

## 2. 에이전트 소개 및 역할 정의

| 에이전트 | 핵심 강점 | 주요 역할 (Owner) |
| :--- | :--- | :--- |
| **Claude** | 체계적인 장문 생성, 계획 수립 | **기획자 (Planner) / 기술 작가 (Writer)** |
| **Gemini** | 심층 분석, 추론, 아키텍처 설계 | **아키텍트 (Architect) / 분석가 (Analyst)** |
| **Copilot** | 빠른 코드 생성, 실행, 자동화 | **구현자 (Implementer) / 실행자 (Executor)** |

---

## 3. 단계별 운영 가이드 (사용자 매뉴얼)

### Phase 0: 기술 검증 (1-2시간)
> **목표:** 아이디어나 기술 스택의 실현 가능성을 빠르게 확인합니다.

| 작업 | 주관 | 상세 지침 (사용자 행동) |
| :--- | :--- | :--- |
| 1. PoC 개발 | **Copilot** | Copilot에게 명확한 요구사항과 함께 30분 내외로 실행 가능한 최소 기능(PoC) 코드 작성을 요청합니다. |
| 2. 기술 검토 | **Gemini** | (선택 사항) Copilot의 PoC 코드를 Gemini에게 전달하고, 사용된 기술의 적합성이나 더 나은 대안이 있는지 검토를 요청합니다. |

### Phase 1: 분석 및 전략 수립 (1-2일)
> **목표:** 요구사항을 구체화하고, 검증된 기술 계획을 수립합니다.

| 작업 | 주관 | 상세 지침 (사용자 행동) |
| :--- | :--- | :--- |
| 1. 계획 초안 | **Claude** | Claude에게 요구사항, 제약 조건 등을 전달하여 상세 기술 계획, WBS, 리스크 분석이 포함된 계획 문서 초안 작성을 요청합니다. |
| 2. 설계/전략 검토 | **Gemini** | **[핸드오프 1]** Claude의 계획서를 Gemini에게 전달하여 아키텍처, 기술 부채, 테스트 전략 등을 심층 검토하고 개선안을 받습니다. |
| 3. 실행 검증 | **Copilot** | **[핸드오프 2]** 최종 수정된 계획의 핵심 부분을 Copilot에게 전달하여, 간단한 코드 샘플로 최종 실행 가능성을 확인합니다. |

### Phase 2: 마일스톤 기반 구현 (1-3주)
> **목표:** 기능 단위 마일스톤을 반복하여 실제 코드를 개발합니다.

| 작업 | 주관 | 상세 지침 (사용자 행동) |
| :--- | :--- | :--- |
| 1. 테스트 전략 | **Gemini** | (마일스톤 시작 시) 이번 마일스톤의 테스트 커버리지 목표와 핵심 테스트 전략을 정의합니다. |
| 2. 테스트 설계 | **Claude** | Gemini의 테스트 전략에 따라, Copilot이 구현할 기능의 성공/실패를 판단할 테스트 케이스 뼈대를 생성합니다. |
| 3. 설계/구현 | **Copilot** | **[핵심 작업]** 계획/설계/테스트 케이스를 바탕으로 실제 코드를 구현하고, 모든 테스트를 통과시킵니다. 막히는 부분이 있을 때만 해당 설계를 Gemini에게 요청하여 지원받습니다. |
| 4. 동기화 | **Claude** | (마일스톤 종료 시) Copilot이 제공한 변경 요약(git log 기반)을 바탕으로 관련 문서를 업데이트합니다. |

### Phase 3: 최종화 및 문서화 (3-5일)
> **목표:** 프로젝트를 최종 완료하고, 산출물을 정리합니다.

| 작업 | 주관 | 상세 지침 (사용자 행동) |
| :--- | :--- | :--- |
| 1. DevOps/배포 | **Copilot** | CI/CD, Docker 설정, 배포 스크립트 등 DevOps 관련 작업을 수행하고, 최종 빌드 및 테스트를 실행합니다. |
| 2. 최종 검수 | **Gemini** | **[핸드오프 3]** 모든 산출물을 최종 검수하고, Claude의 문서 작성을 돕기 위한 '핵심 정보 요약'을 생성합니다. |
| 3. 최종 문서화 | **Claude** | Gemini의 요약과 Copilot의 최종 변경 로그를 바탕으로, 사용자 매뉴얼, API 명세 등 최종 문서를 작성합니다. |

---

## 4. 부록: 핸드오프 프로토콜 (사용자용 체크리스트)

> **참고:** 여기에 설명된 프로토콜의 더 상세한 체크리스트와 실전 팁은 `PRACTICAL_GUIDE.md`에 포함되어 있습니다.

### **[핸드오프 1] Claude → Gemini**
> **목표:** 계획의 기술적 타당성을 심층 검증합니다.

*   **산출물 승인 체크리스트 (Claude 결과물):**
    *   `[ ]` 모든 주요 요구사항이 반영되었는가?
    *   `[ ]` 리스크 평가 항목이 포함되었는가?
    *   `[ ]` 작업 분할(WBS) 초안이 포함되었는가?
*   **프롬프트 템플릿 (Gemini 요청 시):**
    ```
    To: Gemini
    Context: `project_status.md` 참조
    Artifact: `plan_v1.md` (Claude 작성)

    Objective:
    1. 이 계획의 아키텍처 타당성을 검토해줘.
    2. 숨겨진 기술 부채나 시스템 전체에 영향을 줄 이슈(횡단 관심사)를 분석해줘.
    3. 테스트 전략과 커버리지 목표를 수립해줘.
    ```

### **[핸드오프 2] Gemini/Claude → Copilot**
> **목표:** 최종 계획의 실행 가능성을 코드로 검증합니다.

*   **산출물 승인 체크리스트 (Gemini/Claude 결과물):**
    *   `[ ]` 검토 의견이 반영된 최종 계획서가 준비되었는가?
*   **프롬프트 템플릿 (Copilot 요청 시):**
    ```
    To: Copilot
    Context: `project_status.md` 참조
    Artifact: `plan_final.md`

    Objective:
    1. 이 계획의 핵심 API 1~2개를 실제 코드로 구현하여 실현 가능성을 검증해줘. (30분 내외)
    2. 구현 중 발견되는 문제점(설계 오류, 의존성 충돌 등)을 보고해줘.
    ```

### **[핸드오프 3] 모든 산출물 → Gemini**
> **목표:** 프로젝트 최종 산출물을 종합 검수합니다.

*   **산출물 승인 체크리스트 (Copilot/Claude 결과물):**
    *   `[ ]` 모든 테스트가 통과했는가? (Copilot)
    *   `[ ]` 최종 빌드가 성공했는가? (Copilot)
    *   `[ ]` 기능 구현이 완료되었는가? (Copilot)
*   **프롬프트 템플릿 (Gemini 요청 시):**
    ```
    To: Gemini
    Context: `project_status.md`, 최종 소스코드 전체, 테스트 결과

    Objective:
    1. 모든 산출물을 종합적으로 검수하고 일관성을 확인해줘.
    2. 기술 부채 목록과 향후 개선 권장사항을 정리해줘.
    3. 코드 분석 기반의 보안 리뷰를 수행해줘.
    4. 최종 검수 후, Claude가 문서를 작성하는 데 필요한 핵심 정보를 요약해줘. (API 최종 명세, 주요 변경점, 코드 예제 등)
    ```